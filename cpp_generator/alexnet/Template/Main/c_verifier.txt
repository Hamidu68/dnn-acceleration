#include <stdio.h>
#include<iostream>
#include <stdlib.h>
#include<string>
#include<string.h>
#include<math.h>
using namespace std;

typedef ${Data_type} DATA_IN;
typedef float DATA_T;

${sw_def_layer}

//argv[1] = init_weight.txt , argv[2] = init_input.txt
int main(int argc, char *argv[]) {

    DATA_T temp;
    int m, x, y, i, j, k, l;
    int trash;

    ${sw_static_variables}
 
    ${sw_output_variables}

    FILE *w_stream = fopen(argv[1], "r");
    if (w_stream == NULL) printf("weight file was not opened");
    FILE *i_stream = fopen(argv[2], "r");
    if (i_stream == NULL) printf("input file was not opened");
    FILE *o_stream = fopen("Output/C_output.txt", "w");
    if (o_stream == NULL) printf("Output file was not opened");
 
    printf("[C_verifier.cpp]Start Initialization\n");

    ${Initialization}
  
    printf("[C_verifier.cpp]Finish Initialization\n");
  
    ${sw_call_layer}

    printf("[C_verifier.cpp]Print Result\n");
  
    ${print_result}
    
    fclose(w_stream);
    fclose(i_stream);
    fclose(o_stream);
    return 0;
}
